<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Run Matlab programs in Python - Programming Notes</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Run Matlab programs in Python";
    var mkdocs_page_input_path = "python\\matlab.md";
    var mkdocs_page_url = "/python/matlab/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../README/" class="icon icon-home"> Programming Notes</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../../README/">Programming Notes</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">General</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../general/batch-script/">Create a Windows batch script</a>
                </li>
                <li class="">
                    
    <a class="" href="../../general/crontab/">Linux Crontab</a>
                </li>
                <li class="">
                    
    <a class="" href="../../general/deploy-django/">Deploy a Django app in an Ubuntu VPS (DigitalOcean)</a>
                </li>
                <li class="">
                    
    <a class="" href="../../general/dev-environments/">Development environments</a>
                </li>
                <li class="">
                    
    <a class="" href="../../general/git/">Git Version Control System</a>
                </li>
                <li class="">
                    
    <a class="" href="../../general/keep-ssh-running/">Keep SSH sessions running after disconnecting</a>
                </li>
                <li class="">
                    
    <a class="" href="../../general/os-env-vars/">Hiding Passwords and Secret Keys in Environment Variables</a>
                </li>
                <li class="">
                    
    <a class="" href="../../general/server-setup/">Initial Server Setup with Ubuntu 18.04</a>
                </li>
                <li class="">
                    
    <a class="" href="../../general/ubuntu-vps/">Deploy a Flask Application on an Ubuntu VPS (DigitalOcean)</a>
                </li>
                <li class="">
                    
    <a class="" href="../../general/web-dev-resources/">Online Resources For Web Developers</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Html css</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../html-css/css-selectors/">CSS selectors</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Javascript</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../javascript/DataTables/">DataTables JS Library</a>
                </li>
                <li class="">
                    
    <a class="" href="../../javascript/cache-data/">Caching data</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Python</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../args-kwargs/">*args and **kwargs</a>
                </li>
                <li class="">
                    
    <a class="" href="../beautifulsoup4/">Web scrapping with Beautiful Soup 4</a>
                </li>
                <li class="">
                    
    <a class="" href="../builtin-functions/">Sorting lists</a>
                </li>
                <li class="">
                    
    <a class="" href="../classes/">Classes and OOP (Object Oriented Programming)</a>
                </li>
                <li class="">
                    
    <a class="" href="../csv/">CSV files</a>
                </li>
                <li class="">
                    
    <a class="" href="../django/">Building a Django site</a>
                </li>
                <li class="">
                    
    <a class="" href="../email/">Sending e-mails with Python</a>
                </li>
                <li class="">
                    
    <a class="" href="../flask/">Building a Flask site</a>
                </li>
                <li class="">
                    
    <a class="" href="../hosting/">Hosting Python scripts and services</a>
                </li>
                <li class="">
                    
    <a class="" href="../image-manipulation/">Image manipulation in Python</a>
                </li>
                <li class="">
                    
    <a class="" href="../imports/">Imports in Python</a>
                </li>
                <li class="">
                    
    <a class="" href="../magic-methods/">Magic methods</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Run Matlab programs in Python</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#run-matlab-programs-in-python">Run Matlab programs in Python</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#requirements">Requirements</a></li>
        
            <li><a class="toctree-l4" href="#1-create-a-python-package-for-the-maltab-application">1) Create a Python package for the Maltab Application</a></li>
        
            <li><a class="toctree-l4" href="#2-set-up-the-target-computer-ubuntu-server">2) Set up the target computer (Ubuntu server)</a></li>
        
            <li><a class="toctree-l4" href="#3-create-and-install-the-python-application-that-will-use-the-matlab-function">3) Create and install the Python application that will use the Matlab function</a></li>
        
            <li><a class="toctree-l4" href="#notes">Notes</a></li>
        
            <li><a class="toctree-l4" href="#references">References</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../mysql/">Mysql</a>
                </li>
                <li class="">
                    
    <a class="" href="../progress-bar/">Progress bar</a>
                </li>
                <li class="">
                    
    <a class="" href="../slice-notation/">Slice notation</a>
                </li>
                <li class="">
                    
    <a class="" href="../snippets/">Snippets</a>
                </li>
                <li class="">
                    
    <a class="" href="../store-dicts/">Store dicts</a>
                </li>
                <li class="">
                    
    <a class="" href="../stravalib/">Stravalib</a>
                </li>
                <li class="">
                    
    <a class="" href="../string-formatting/">String formatting</a>
                </li>
                <li class="">
                    
    <a class="" href="../virtual-environments/">Virtual environments</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../README/">Programming Notes</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../README/">Docs</a> &raquo;</li>
    
      
        
          <li>Python &raquo;</li>
        
      
    
    <li>Run Matlab programs in Python</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="run-matlab-programs-in-python">Run Matlab programs in Python</h1>
<p>This example shows how to create a Python package using a MATLAB function. You can then pass the generated package to the developer who is responsible for integrating it into an application. The target system does not require a licensed copy of MATLAB.</p>
<h2 id="requirements">Requirements</h2>
<ul>
<li>A Matlab version with a license for MATLAB Compiler or MATLAB Compiler SDK to compile the Python package.</li>
<li>The target computer (where the final application will run) does not require Matlab or a Matlab Licence. However, it requires the Matlab Runtime (free, <a href="https://www.mathworks.com/products/compiler/matlab-runtime.html">download here</a>) of the same version of the Matlab used to compile the application. For instance, if the package was compiled in Matlab 2018a the target computer must have Matlab Runtime version 2018a installed</li>
</ul>
<h2 id="1-create-a-python-package-for-the-maltab-application">1) Create a Python package for the Maltab Application</h2>
<p>For this example let's create a simple Matlab function and save it as <code>makesqr.m</code>:</p>
<pre><code class="matlab">function y = makesqr(x)

y = magic(x);
</code></pre>

<p>Now lets create the Python package. Enter <code>libraryCompiler</code> at the MATLAB prompt to open the Library Compiler. To use the Library Compiler you need a license for MATLAB Compiler or MATLAB Compiler SDK.</p>
<p>In the MATLAB Compiler project window, specify the main file of the MATLAB application that you want to deploy. Select whether to include the MATLAB Runtime installer in the generated application by selecting one of the two options in the Packaging Options section:</p>
<ul>
<li>
<p>Runtime downloaded from web — Generates an installer that downloads the MATLAB Runtime and installs it along with the deployed MATLAB application.</p>
</li>
<li>
<p>Runtime included in package — Generates an application that includes the MATLAB Runtime installer.</p>
</li>
</ul>
<p>Fill in the remaining fields. For this example lets edit the Library Name field, replacing makesqr with <code>MagicSquarePkg</code>. </p>
<p>To generate the packaged application, click Package. When the deployment process is complete, the output folder contains:</p>
<ul>
<li>
<p>for_redistribution — Folder containing the file that installs the application and the MATLAB Runtime.</p>
</li>
<li>
<p>for_testing — Folder containing all the artifacts created by mcc, such as binaries and JAR, header, and source files for a specific target. Use these files to test the installation.</p>
</li>
<li>
<p>for_redistribution_files_only — Folder containing the files required for redistributing the application. Distribute these files to users who have MATLAB or MATLAB Runtime installed on their machines.</p>
</li>
<li>
<p>PackagingLog.txt — Log file generated by MATLAB Compiler.</p>
</li>
</ul>
<h2 id="2-set-up-the-target-computer-ubuntu-server">2) Set up the target computer (Ubuntu server)</h2>
<p>1) Make sure Python is installed. Python versions supported are versions 2.7, 3.5, and 3.6. For 64-bit MATLAB, the 64-bit Python version is requiered.</p>
<p>2) If necessary install setuptools for python: <code>sudo apt-get install python-setuptools</code></p>
<p>3) Now we need to install the Matlab Runtime in the Ubuntu server. Download the it from the website at <a href="https://www.mathworks.com/products/compiler/mcr">Mathworks</a>. Make sure you download and install the version corresponding to the Matlab you used to create the Python package.</p>
<p>3) Start the MATLAB Runtime installer.
    On Ubuntu: <code>sudo ./install</code>
    On Debian: <code>gksudo ./install</code></p>
<p>4) Follow the installation dialog instructions.</p>
<h3 id="install-the-matlab-runtime-non-interactively">Install the MATLAB Runtime Non-Interactively</h3>
<p>To install the MATLAB Runtime without having to interact with the installer dialog boxes (headless Ubuntu server for instance), use the MATLAB Runtime installer’s non-interactive <code>silent</code> mode. The installer runs as a background task and does not display any dialog boxes.
Extract the contents of the MATLAB Runtime installer file to a temporary folder and run the MATLAB Runtime installer, specifying the -mode option:</p>
<pre><code>./install -mode silent -agreeToLicense yes
</code></pre>

<h2 id="3-create-and-install-the-python-application-that-will-use-the-matlab-function">3) Create and install the Python application that will use the Matlab function</h2>
<p>To install the Python application, open a command prompt in the <code>for_redistribution_files_only</code> folder and run the script:</p>
<pre><code>python setup.py install
</code></pre>

<p>Create a file called getmagic.py, and include the following code in it.</p>
<pre><code class="python">import MagicSquarePkg

myMagic = MagicSquarePkg.initialize()
print(myMagic.makesqr(3))
myMagic.terminate()
</code></pre>

<p>At the system command prompt, navigate to the folder containing getmagic.py and run the application as follows:</p>
<pre><code>python getmagic.py
</code></pre>

<h2 id="notes">Notes</h2>
<h4 id="uninstall-matlab-runtime">Uninstall MATLAB Runtime</h4>
<p>Exit the application and run the command:</p>
<pre><code>rm -rf mcr_root
</code></pre>

<p>where <code>mcr_root</code> represents the name of your top-level MATLAB installation folder.</p>
<h2 id="references">References</h2>
<ul>
<li>https://www.mathworks.com/help/compiler_sdk/gs/create-a-python-application-with-matlab-code.html</li>
<li>https://www.mathworks.com/help/matlab/matlab-engine-for-python.html</li>
<li>https://www.mathworks.com/help/compiler/deployment-process.html</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../mysql/" class="btn btn-neutral float-right" title="Mysql">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../magic-methods/" class="btn btn-neutral" title="Magic methods"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../magic-methods/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../mysql/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/require.js"></script>
      <script src="../../search/search.js"></script>

</body>
</html>
