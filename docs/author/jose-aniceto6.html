<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- <link href="http://gmpg.org/xfn/11" rel="profile"> -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta http-equiv="content-type" content="text/html; charset=utf-8">

		<!-- Enable responsiveness on mobile devices-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

		<link rel="shortcut icon" type="image/png" href="https://janiceto.github.io/programming-notes/images/favicon.png"/>
		<title>Annotatio - Articles by José Aniceto</title>

		<!-- CSS -->
		<link href="//fonts.googleapis.com/" rel="dns-prefetch">
		<link href="//fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic|Abril+Fatface|PT+Sans:400,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet">

		<link rel="stylesheet" href="https://janiceto.github.io/programming-notes/theme/css/poole.css" />
		<link rel="stylesheet" href="https://janiceto.github.io/programming-notes/theme/css/hyde.css" />
		<link rel="stylesheet" href="https://janiceto.github.io/programming-notes/theme/css/syntax.css" />
		<link rel="stylesheet" href="https://janiceto.github.io/programming-notes/theme/css/style.css" />
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

		<!-- RSS -->
		<link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-58056773-5"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-58056773-5');
	</script>
	</head>
	
	<body class="theme-flat">
<div class="sidebar">
	<div class="container sidebar-sticky">
		<div class="sidebar-about">

			<h1>
				<a href="https://janiceto.github.io/programming-notes">
					Annotatio
				</a>
			</h1>
			<p class="lead">A collection of codding notes and snippets from my journey to self taught programming. </p>
			<p></p>
		</div>
		<nav class="sidebar-nav">
			<a class="sidebar-nav-item" href="https://janiceto.github.io/programming-notes/category/data-analysis.html">Data Analysis</a>
			<a class="sidebar-nav-item" href="https://janiceto.github.io/programming-notes/category/general.html">General</a>
			<a class="sidebar-nav-item" href="https://janiceto.github.io/programming-notes/category/html-and-css.html">HTML and CSS</a>
			<a class="sidebar-nav-item" href="https://janiceto.github.io/programming-notes/category/javascript.html">Javascript</a>
			<a class="sidebar-nav-item" href="https://janiceto.github.io/programming-notes/category/python.html">Python</a>
			
		</nav>

		<p>by José Aniceto</p>
	</div>
</div>		<div class="content container">
	<div class="posts">
			<div class="post">
				<h1 class="post-title" href="https://janiceto.github.io/programming-notes/store-dicts.html#store-dicts">
					<a href="https://janiceto.github.io/programming-notes/store-dicts.html#store-dicts">Storing dictionaries for later use: <span class="caps">JSON</span> and&nbsp;Pickle</a>
				</h1>
				<span class="post-date">qua 09 agosto 2017</span>
				<p>
					<h2><span class="caps">JSON</span></h2>
<p><strong>Saving:</strong></p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data.json&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">fp</span><span class="p">)</span>
</pre></div>


<p>Supply extra arguments like sort_keys or indent to get a pretty result. The argument sort_keys will sort the keys alphabetically and indent will indent your data structure with indent=N&nbsp;spaces.</p>
<div class="highlight"><pre><span></span><span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>


<p><strong>Loading:</strong></p>
<div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data.json&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
</pre></div>


<h4>json.dump() vs json.dumps(), json.load() vs&nbsp;json.loads()</h4>
<p>If you want to dump the <span class="caps">JSON</span> into a file/socket or whatever, then you should go for <code>dump()</code>. If you only need it as a string (for printing, parsing or whatever) then use <code>dumps()</code> (dump string). The functions with an <code>s</code> take string parameters. The others take file&nbsp;streams.</p>
<hr>
<h2>Pickle</h2>
<p><strong>Saving:</strong></p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cPickle</span> <span class="kn">as</span> <span class="nn">pickle</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data.p&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">fp</span><span class="p">)</span>
</pre></div>


<p><strong>Loading:</strong></p>
<div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data.p&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as …</span></pre></div>
				</p>
				<a class="read-more" href="https://janiceto.github.io/programming-notes/store-dicts.html">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="https://janiceto.github.io/programming-notes/flask.html#flask">
					<a href="https://janiceto.github.io/programming-notes/flask.html#flask">Building a Flask&nbsp;site</a>
				</h1>
				<span class="post-date">seg 07 agosto 2017</span>
				<p>
					<h3>Installing Flask and other usefull Python&nbsp;modules</h3>
<div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">Flask</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">flask</span><span class="o">-</span><span class="n">mysqldb</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">Flask</span><span class="o">-</span><span class="n">WTF</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">passlib</span>
</pre></div>


<h3>Project file&nbsp;structure</h3>
<div class="highlight"><pre><span></span><span class="o">/</span><span class="n">flask</span><span class="o">-</span><span class="n">site</span>
    <span class="o">/</span><span class="n">venv</span>
    <span class="o">/</span><span class="n">flask</span><span class="o">-</span><span class="n">site</span>
        <span class="n">__init__</span><span class="p">.</span><span class="n">py</span>
        <span class="o">/</span><span class="k">static</span>
            <span class="n">style</span><span class="p">.</span><span class="n">css</span>
        <span class="o">/</span><span class="n">templates</span>
            <span class="n">layout</span><span class="p">.</span><span class="n">html</span>
            <span class="k">index</span><span class="p">.</span><span class="n">html</span>
            <span class="n">about</span><span class="p">.</span><span class="n">html</span>
            <span class="p">...</span>
</pre></div>


<h3>The <code>__init__.py</code> file</h3>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">render_template</span><span class="p">,</span> <span class="n">flash</span><span class="p">,</span> <span class="n">redirect</span><span class="p">,</span> <span class="n">url_for</span><span class="p">,</span> <span class="n">session</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">logging</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="c1"># Home page route</span>
<span class="nd">@app.route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;index.html&#39;</span><span class="p">)</span>

<span class="c1"># About page route</span>
<span class="nd">@app.route</span><span class="p">(</span><span class="s1">&#39;/about&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">about</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;about.html&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">secret_key</span> <span class="o">=</span> <span class="s1">&#39;secret123&#39;</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
				</p>
				<a class="read-more" href="https://janiceto.github.io/programming-notes/flask.html">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="https://janiceto.github.io/programming-notes/mysql.html#mysql">
					<a href="https://janiceto.github.io/programming-notes/mysql.html#mysql">Using MySQL in&nbsp;Python</a>
				</h1>
				<span class="post-date">sex 04 agosto 2017</span>
				<p>
					<h3>Some basic MySQL&nbsp;commands</h3>
<p>In MySQL a <code>DATABASE</code> is composed by one or more <code>TABLE</code>s. Typically you create a database for each&nbsp;project.</p>
<h5>To create a new MySQL database named <code>database_name</code> (the starting point of a new project using&nbsp;MySQL):</h5>
<div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">database_name</span><span class="p">;</span>
</pre></div>


<p>Show all databases:  <code>SHOW DATABASES;</code></p>
<h5>To start using a database you&nbsp;must:</h5>
<p><code>USE database_name;</code></p>
<h5>To create a new table named users (an&nbsp;example):</h5>
<div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">users</span><span class="p">(</span><span class="n">id</span> <span class="nb">INT</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="n">AUTO_INCREMENT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">name</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="n">email</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="n">username</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">password</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="n">register_date</span> <span class="k">TIMESTAMP</span> <span class="k">DEFAULT</span> <span class="k">CURRENT_TIMESTAMP</span><span class="p">);</span>
</pre></div>


<p>Show all tables:  <code>SHOW TABLES;</code></p>
<p>Get info on a <span class="caps">TABLE</span> (in this example users): <code>DESCRIBE users;</code></p>
<h5>Add data to table via&nbsp;command:</h5>
<div class="highlight"><pre><span></span><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">users</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</pre></div>


<h5>Typical&nbsp;queries:</h5>
<p><code>SELECT * FROM users;</code>  Select all rows from users&nbsp;table</p>
<h2>Copying a database to another&nbsp;server</h2>
<ol>
<li>One the server where the <span class="caps">DB</span> is …</li></ol>
				</p>
				<a class="read-more" href="https://janiceto.github.io/programming-notes/mysql.html">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="https://janiceto.github.io/programming-notes/email.html#email">
					<a href="https://janiceto.github.io/programming-notes/email.html#email">Sending e-mails with&nbsp;Python</a>
				</h1>
				<span class="post-date">sex 04 agosto 2017</span>
				<p>
					<p>In all examples I am using a gmail server to send emails. If you are not using a gmail address you need to insert the respective smtp server and possibly the&nbsp;port.</p>
<ul>
<li>Gmail: smtp.gmail.com, port&nbsp;587</li>
<li>Hotmail: smtp.live.com, port&nbsp;587</li>
<li>Outlook: smtp-mail.outlook.com, port&nbsp;587</li>
</ul>
<h3>Very basic&nbsp;example</h3>
<p>This is a very barebones example. No subject is added to the&nbsp;email. </p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">smtplib</span>

<span class="n">sender</span> <span class="o">=</span> <span class="s1">&#39;sender@gmail.com&#39;</span>
<span class="n">pwd</span> <span class="o">=</span> <span class="s1">&#39;senderpassword&#39;</span>  <span class="c1"># password for sender email</span>
<span class="n">receiver</span> <span class="o">=</span> <span class="s1">&#39;receiver@gmail.com&#39;</span>
<span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Hi there!&#39;</span>

<span class="n">server</span> <span class="o">=</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTP</span><span class="p">(</span><span class="s1">&#39;smtp.gmail.com&#39;</span><span class="p">,</span> <span class="mi">587</span><span class="p">)</span>  <span class="c1"># smtp server and port for the sender email</span>
<span class="n">server</span><span class="o">.</span><span class="n">ehlo</span><span class="p">()</span>
<span class="n">server</span><span class="o">.</span><span class="n">starttls</span><span class="p">()</span>  <span class="c1"># starts a TLS encrypted connection</span>
<span class="n">server</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="n">pwd</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">sendmail</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="n">receiver</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="s1">&#39;Mail sent!&#39;</span><span class="p">)</span>
</pre></div>


<hr>
<h3>More complete&nbsp;case</h3>
<p>This uses the Python email library to help compose the email. You can add the subject to the&nbsp;email. </p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">smtplib</span>
<span class="kn">from</span> <span class="nn">email.message …</span></pre></div>
				</p>
				<a class="read-more" href="https://janiceto.github.io/programming-notes/email.html">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="https://janiceto.github.io/programming-notes/virtual-environments.html#virtual-environments">
					<a href="https://janiceto.github.io/programming-notes/virtual-environments.html#virtual-environments">Virtual&nbsp;enviroments</a>
				</h1>
				<span class="post-date">qua 02 agosto 2017</span>
				<p>
					<h2>Main packages to handle virtual&nbsp;environments</h2>
<ul>
<li><a href="#venv-(standard-library)">venv (Standard&nbsp;Library)</a></li>
<li><a href="#pipenv">Pipenv</a></li>
<li><a href="#virtualenv-package">virtualenv</a></li>
</ul>
<h2>venv (Standard&nbsp;Library)</h2>
<p><code>venv</code> already comes with the Python Standard Library so no installation is&nbsp;required.</p>
<h3>Create a new virtual&nbsp;enviroment:</h3>
<p>To create a new virtual environment: <code>$ python -m venv env_name</code></p>
<p>A new folder appears in your current location containinng the new Python installation. The environemnt uses the same Python version as the one used to create&nbsp;it.</p>
<p>To activate the virtual environment: <code>$ env_name/Scripts/activate.bat</code></p>
<p>Once the virtual environment is activated, when you install a package with <code>pip install package</code>, it will only be installed in the&nbsp;environment.</p>
<p>To deactivate the virtual environment: <code>$ deactivate</code></p>
<p>To create a requirements file for your project: <code>$ pip freeze &gt; requirements.txt</code></p>
<p>To delete the virtual environment completly just delete the enviroment folder (<code>env_name</code>) or run: <code>$ rmdir env_name /s</code></p>
<p>To install packages from an existing <code>requirements.txt</code> file: <code>pip install -r requirements.txt …</code></p>
				</p>
				<a class="read-more" href="https://janiceto.github.io/programming-notes/virtual-environments.html">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="https://janiceto.github.io/programming-notes/imports.html#imports">
					<a href="https://janiceto.github.io/programming-notes/imports.html#imports">Imports in&nbsp;Python</a>
				</h1>
				<span class="post-date">qua 02 agosto 2017</span>
				<p>
					<h3>Namespace</h3>
<p>For example, you might be writing some code that has a function called <code>fun()</code> and there is another module available, which also has a function with the name <code>fun()</code>. Now the interpreter has no way of knowing which version of <code>fun()</code> function you are referring within your&nbsp;code.</p>
<p><strong>Namespace</strong> is designed to overcome this difficulty and is used to differentiate functions, classes, variables etc. with the same name, available in different&nbsp;modules.</p>
<h3>Module vs.&nbsp;Package</h3>
<p>A Python <strong>module</strong> is simply a Python source file, which can expose classes, functions and global variables. When imported from another Python source file, the file name is sometimes treated as a&nbsp;namespace.</p>
<p>A Python <strong>package</strong> is simply a directory of Python&nbsp;module(s).</p>
<h3><code>__init__.py</code></h3>
<p>The <code>__init__.py</code> file is the first thing that gets executed when a package is&nbsp;loaded.</p>
<p>More on the <code>__init__.py</code> file in the <strong>Packages (with the <code>__init__ …</code></strong></p>
				</p>
				<a class="read-more" href="https://janiceto.github.io/programming-notes/imports.html">Continue reading »</a>
			</div>
	</div>
	<div class="pagination">
		<!-- <span class="pagination-item older">Older</span>
		<span class="pagination-item newer">Newer</span> -->
<a href="https://janiceto.github.io/programming-notes/author/jose-aniceto5.html" class="pagination-item older">Newer</a>

	</div>
		</div>
	</body>
</html>